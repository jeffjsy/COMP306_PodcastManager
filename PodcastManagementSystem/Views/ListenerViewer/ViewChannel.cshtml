@model PodcastManagementSystem.Models.ViewModels.ChannelDetailsViewModel

@{
    ViewData["Title"] = Model.Channel.Title;
}

@* --- Channel Header Section --- *@
<div class="channel-header bg-light p-4 mb-4 rounded shadow-sm">
    <h1 class="display-4 text-primary">@Model.Channel.Title</h1>
    <p class="lead">@Model.Channel.Description</p>
    <small class="text-muted">Launched: @Model.Channel.CreatedDate.ToShortDateString()</small>
    @* Optional: Display Creator's Name *@
    @* <p class="text-secondary mt-2">Hosted by: @Model.CreatorName</p> *@
</div>

<hr />

<h2 class="mb-3">Episodes (@Model.Episodes.Count)</h2>

@* --- Episodes List Section --- *@
@if (Model.Episodes == null || !Model.Episodes.Any())
{
    <div class="alert alert-info">
        No episodes have been released for this channel yet.
    </div>
}
else
{
    <ul class="list-group list-group-flush">
        @foreach (var episode in Model.Episodes.OrderByDescending(e => e.ReleaseDate))
        {
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <div class="me-auto">
                    <h5>@episode.Title</h5>
                    <p class="mb-1 text-muted">
                        Released: @episode.ReleaseDate.ToShortDateString()
                        <span class="ms-3 badge bg-secondary">@episode.DurationMinutes min</span>
                    </p>

                    @* Basic HTML5 Audio Player *@
                    <audio controls class="mt-2 w-100">
                        <source src="@episode.AudioFileURL" type="audio/mpeg">
                        Your browser does not support the audio element.
                    </audio>
                </div>

                @* Optional: Download Link *@
                @* <a href="@episode.AudioFileURL" download class="btn btn-outline-success btn-sm ms-3">
        <i class="bi bi-download"></i>
        </a> *@
            </li>
        }
    </ul>
}